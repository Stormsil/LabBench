(*==============================================================================
    Название:    ST_PropValveSettings
    Автор:       Редько А.
    Дата:        2025-04-27
    Версия:      1.0
    
    Описание:    Структура настроек пропорционального крана
==============================================================================*)
TYPE ST_PropValveSettings :
STRUCT
    (* Настройки позиционирования *)
    rCloseThreshold: REAL := 2.0;     (* Порог "закрыт" (%) *)
    rOpenThreshold: REAL := 98.0;     (* Порог "открыт" (%) *)
    rDeadband: REAL := 1.0;           (* Зона нечувствительности (%) *)
    rSafePosition: REAL := 0.0;       (* Безопасное положение (0-100%) - закрыт *)
    
    (* Настройки диагностики *)
    tPositionTimeout: TIME := T#8S;   (* Таймаут достижения позиции - учитываем время хода 7 секунд *)
    tStuckTimeout: TIME := T#5S;      (* Таймаут обнаружения заклинивания/поломки *)
    rRegulatingThreshold: REAL := 3.0;(* Порог определения состояния REGULATING (%) *)
    
    (* Настройки реакции на ошибки *)
    bSwitchToE_StopOnError: BOOL := TRUE; (* Переход в E_STOP при ошибке *)
END_STRUCT
END_TYPE